# ===========================================
# Size Charts - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ===========================================
# DATABASE (Required)
# ===========================================

# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
#
# Local PostgreSQL:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/size_charts?schema=public"
#
# Neon (serverless):
# DATABASE_URL="postgresql://user:password@ep-xxx.us-east-1.aws.neon.tech/size_charts?sslmode=require"
#
# Supabase:
# DATABASE_URL="postgresql://postgres:password@db.xxx.supabase.co:5432/postgres"
#
# Railway:
# DATABASE_URL="postgresql://postgres:password@containers-us-west-xxx.railway.app:5432/railway"

DATABASE_URL="postgresql://localhost:5432/size_charts?schema=public"

# ===========================================
# APPLICATION (Optional)
# ===========================================

# Base URL for the application (used in API documentation)
# Leave empty for automatic detection
NEXT_PUBLIC_APP_URL=""

# Node environment (development, production, test)
NODE_ENV="development"

# ===========================================
# API AUTHENTICATION
# ===========================================

# Set to "true" to require API key authentication for v1 endpoints
# When false/unset, API is open (good for development)
API_AUTH_REQUIRED="false"

# ===========================================
# CORS CONFIGURATION
# ===========================================

# Allowed origins for CORS (comma-separated)
# Examples:
#   "*" - Allow any origin (development only!)
#   "https://example.com,https://app.example.com" - Specific origins
#   "" or unset - Same-origin only (no CORS headers)
CORS_ALLOWED_ORIGINS=""

# ===========================================
# ADMIN AUTHENTICATION
# ===========================================

# Username and password for admin panel access
# Leave empty or remove both to disable authentication (NOT recommended for production)
# Sessions last 24 hours and are stored in memory
ADMIN_USERNAME="admin"
ADMIN_PASSWORD="your-secure-password-here"

# ===========================================
# RATE LIMITING
# ===========================================

# Maximum requests per minute per API key/IP (default: 100)
# Set to a higher value for high-traffic applications
RATE_LIMIT_PER_MINUTE="100"

# Maximum write requests per minute (default: 30)
RATE_LIMIT_WRITE_PER_MINUTE="30"

# Set to "true" to disable rate limiting entirely (not recommended)
# RATE_LIMIT_DISABLED="false"

# ===========================================
# LOGGING
# ===========================================

# Log level: error, warn, info, debug (default: info in production, debug in development)
LOG_LEVEL="info"

# Log format: json (for production/log aggregators) or pretty (for development)
# Default: json in production, pretty in development
LOG_FORMAT="json"

# ===========================================
# FUTURE: External Services (Not Yet Implemented)
# ===========================================

# Redis URL for caching (when implemented)
# REDIS_URL=""

# Sentry DSN for error tracking (when implemented)
# SENTRY_DSN=""

# ===========================================
# FEATURE FLAGS (Vercel Flags / Toolbar)
# ===========================================

# Secret for Vercel Flags API authentication
# Required for the toolbar to work locally
# Generate with: openssl rand -base64 32
FLAGS_SECRET="your-flags-secret-here"

# ===========================================
# DEMO MODE (Feature Flag)
# ===========================================
# Demo mode is now controlled via Vercel feature flags.
# Use the Vercel toolbar (visible in development) to toggle it on/off.
#
# For backwards compatibility, you can still use the environment variable:
# Set to "true" to enable demo mode (will override the feature flag default)
#
# When enabled:
#   - Admin authentication is bypassed (no login required)
#   - Anyone can access and modify the admin panel
#   - Database resets on a schedule via cron job
# DEMO_MODE="false"

# Cron secret for scheduled database resets (only needed if demo mode is enabled)
# Generate a secure random string for production
# Used by Vercel Cron to authorize the reset endpoint
# CRON_SECRET="your-cron-secret-here"

# ===========================================
# DOCKER COMPOSE (Used by docker-compose.yml)
# ===========================================
# These are used when running with Docker Compose

# PostgreSQL credentials for Docker
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="postgres"
POSTGRES_DB="size_charts"
