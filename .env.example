# ===========================================
# Size Charts - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ===========================================
# DATABASE (Required)
# ===========================================

# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
#
# Neon (serverless):
# DATABASE_URL="postgresql://user:password@ep-xxx.us-east-1.aws.neon.tech/size_charts?sslmode=require"
#
# Supabase:
# DATABASE_URL="postgresql://postgres:password@db.xxx.supabase.co:5432/postgres"
#
# Local PostgreSQL:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/size_charts?schema=public"

DATABASE_URL=""

# ===========================================
# DEMO MODE vs PROTECTED MODE
# ===========================================
# Choose ONE mode for your deployment:
#
# DEMO MODE (public demo site):
#   - Anyone can access the admin panel without login
#   - Database resets daily via cron job
#   - Set: DEMO_MODE="true"
#
# PROTECTED MODE (private/production):
#   - Admin panel requires login
#   - Set: DEMO_MODE="false" (or leave unset)
#   - Set: ADMIN_USERNAME and ADMIN_PASSWORD

DEMO_MODE="true"

# Admin credentials (only needed if DEMO_MODE is false)
# ADMIN_USERNAME=""
# ADMIN_PASSWORD=""

# Cron secret for scheduled database resets (only needed if DEMO_MODE is true)
# Generate with: openssl rand -base64 32
# Used by Vercel Cron to authorize the reset endpoint
CRON_SECRET=""

# ===========================================
# APPLICATION
# ===========================================

# Base URL for the application
# Leave empty for automatic detection, or set explicitly:
# NEXT_PUBLIC_APP_URL="https://www.sizecharts.dev"
NEXT_PUBLIC_APP_URL=""

# ===========================================
# CORS CONFIGURATION
# ===========================================

# Allowed origins for CORS (comma-separated)
# Examples:
#   "*" - Allow any origin (for public embed widget)
#   "https://example.com,https://app.example.com" - Specific origins
#   "" or unset - Same-origin only
CORS_ALLOWED_ORIGINS="*"

# ===========================================
# API AUTHENTICATION
# ===========================================

# Set to "true" to require API key authentication for v1 endpoints
# When false/unset, API is open (good for public demo)
API_AUTH_REQUIRED="false"

# ===========================================
# RATE LIMITING
# ===========================================

# Maximum requests per minute per API key/IP (default: 100)
RATE_LIMIT_PER_MINUTE="100"

# Maximum write requests per minute (default: 30)
RATE_LIMIT_WRITE_PER_MINUTE="30"

# ===========================================
# ERROR TRACKING (Sentry)
# ===========================================

# Sentry DSN for error tracking
# Get from: Sentry Dashboard > Project > Settings > Client Keys (DSN)
SENTRY_DSN=""
NEXT_PUBLIC_SENTRY_DSN=""

# Sentry organization and project slugs (for source map uploads)
SENTRY_ORG=""
SENTRY_PROJECT=""

# Sentry auth token (for source map uploads in CI/CD)
# Generate at: https://sentry.io/settings/auth-tokens/
# Required scopes: project:releases, org:read
SENTRY_AUTH_TOKEN=""

# ===========================================
# VERCEL FEATURE FLAGS
# ===========================================

# Secret for Vercel Flags API authentication
# Generate with: openssl rand -base64 32
FLAGS_SECRET=""

# ===========================================
# DOCKER COMPOSE (Local development only)
# ===========================================

POSTGRES_USER="postgres"
POSTGRES_PASSWORD="postgres"
POSTGRES_DB="size_charts"
